(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{48:function(e,t,c){},49:function(e,t,c){"use strict";c.r(t);var a=c(2),r=c.n(a),n=c(16),s=c.n(n),i=c(3),o=c(10),l=c(18),u=c(29),d=c(9),j={isLoading:!1};var p={favoriteCitys:[],currCity:null};var m={themeState:!1};var b={temperatureScale:"celsius"};var h=Object(l.b)({system:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"LOADING_START":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!0});case"LOADING_DONE":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1});default:return e}},city:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FAVORITE_CITYS":return Object(d.a)(Object(d.a)({},e),{},{favoriteCitys:t.citys});case"SET_CURRENT_CITY":return Object(d.a)(Object(d.a)({},e),{},{currCity:t.city});default:return e}},theme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_THEME":return Object(d.a)(Object(d.a)({},e),{},{themeState:t.themeState});default:return e}},temperatureScale:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SCALE":return Object(d.a)(Object(d.a)({},e),{},{temperatureScale:t.temperatureScale});default:return e}}}),v=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,f=Object(l.d)(h,v(Object(l.a)(u.a))),O=c(4),x=c.n(O),y=c(7),g=c(5),N=(c(44),c(8)),T=c(11),w=c(35);var S,_={loadFromStorage:function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):null},saveToStorage:function(e,t){localStorage[e]=JSON.stringify(t)}},k="CITYS",I={query:function(){return C.apply(this,arguments)},getById:function(e){if(S){var t=S.find((function(t){return t._id===e}));return Promise.resolve(t)}},save:function(e){S.filter((function(t){return t.key===e.key}))[0]?(t=e.key,S=S.filter((function(e){return e.key!==t})),g.b.success("".concat(e.name," deleted from favorite list"),{position:g.b.POSITION.BOTTOM_LEFT})):(!function(e){var t=Object(d.a)({_id:D()},e);S=[t].concat(Object(w.a)(S))}(e),g.b.success("".concat(e.name," added to favorite list"),{position:g.b.POSITION.BOTTOM_LEFT}));var t;return _.saveToStorage(k,S),S}};function C(){return(C=Object(y.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.loadFromStorage(k);case 2:return(S=e.sent)||(S=[],_.saveToStorage(k,S)),e.abrupt("return",S);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=c.charAt(Math.floor(Math.random()*c.length));return t}function E(e){return function(){var t=Object(y.a)(x.a.mark((function t(c){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.save(e);case 3:a=t.sent,c({type:"SET_FAVORITE_CITYS",citys:a}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),g.b.error("Unable to update fav citys",{position:g.b.POSITION.BOTTOM_LEFT}),console.log("err in updating citys",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function F(e){return function(){var t=Object(y.a)(x.a.mark((function t(c){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{c({type:"SET_CURRENT_CITY",city:e})}catch(a){console.log("err in updating city",a),g.b.error("Unable to update city",{position:g.b.POSITION.BOTTOM_LEFT})}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var M="ngqW3lpAzGQNqmbAbjZQi42kGOhXlanO",L={getAutoComplete:function(e){return fetch("https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(M,"&q=").concat(e))},getCurrentCityConditions:function(e){return z.apply(this,arguments)},getForecastFromCity:function(e){return A.apply(this,arguments)},getCurrLocation:function(e){return P.apply(this,arguments)},getHourlyFrecast:function(e){return fetch("https://dataservice.accuweather.com/forecasts/v1/hourly/12hour/".concat(e,"?apikey=").concat(M,"&details=true&metric=true"))}};function P(){return(P=Object(y.a)(x.a.mark((function e(t){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=fetch("https://dataservice.accuweather.com/locations/v1/cities/geoposition/search?apikey=".concat(M,"&q=").concat(t)),e.abrupt("return",c);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(y.a)(x.a.mark((function e(t){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=fetch("https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(t,"?apikey=").concat(M,"&details=true&metric=true")),e.abrupt("return",c);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(y.a)(x.a.mark((function e(t){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=fetch("https://dataservice.accuweather.com/currentconditions/v1/".concat(t,"?apikey=").concat(M,"&details=true")),e.abrupt("return",c);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=c(1),V=function(e){var t=e.isActive,c=e.size;return Object(R.jsx)("div",{className:"heart ".concat(t?"active":""),children:Object(R.jsx)("div",{className:"heart-flip ".concat(c||"")})})};function H(e){var t=e.favoriteCitys,c=e.cityData,r=e.getCurrentStyle,n=e.onGetCityDetails,s=e.onToggleLocation,o=e.setCitysData,l=e.inputRef,u=Object(i.c)((function(e){return e.theme.themeState})),d=Object(a.useState)(!1),j=Object(T.a)(d,2),p=j[0],m=j[1];return Object(a.useEffect)((function(){var e=t.filter((function(e){return e.key===c.Key}))[0];m(!!e)}),[c,t]),Object(R.jsxs)("div",{className:"city-data-preview flex  place-center ".concat(r(c.Key)),onClick:function(){n(c),o([]),l&&l.current&&(l.current.value="")},children:[Object(R.jsxs)("div",{className:"flex search-name-result ".concat(u?"dark":""),children:[Object(R.jsxs)("div",{className:"margin-right-5px",children:[c.LocalizedName,", "]}),Object(R.jsx)("div",{className:"country",children:c.Country.LocalizedName})]}),Object(R.jsx)("div",{onClick:function(e){s(e,c)},children:Object(R.jsx)(V,{isActive:p,size:"small"})})]})}function U(){var e=Object(i.c)((function(e){return e.city.favoriteCitys})),t=Object(i.c)((function(e){return e.theme.themeState})),c=Object(a.useState)([]),r=Object(T.a)(c,2),n=r[0],s=r[1],o=Object(i.b)(),l=Object(N.f)(),u=Object(a.useRef)();function d(){return(d=Object(y.a)(x.a.mark((function e(t){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===t.target.value.length&&s([]),!(t.target.value.length>2)){e.next=14;break}return e.prev=2,e.next=5,L.getAutoComplete(t.target.value).then((function(e){return e.json()})).then((function(e){return e}));case 5:c=e.sent,s(c),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),s([]),g.b.error("Failed auto complete",{position:g.b.POSITION.BOTTOM_LEFT}),console.log("ERR in get citys from AutoComplete",e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function j(t){if(e&&e.length>0&&e.filter((function(e){return e.key===t}))[0])return"includes"}function p(e,t){var c={name:t.LocalizedName,country:t.Country.LocalizedName,key:t.Key};e.preventDefault(),e.stopPropagation(),o(E(c))}function m(e){var t={name:e.LocalizedName,country:e.Country.LocalizedName,key:e.Key};o(F(t)),l.push("/".concat(t.name))}return Object(R.jsxs)("div",{className:"search flex column justify-center",children:[Object(R.jsx)("div",{className:"search-title",children:"Search for city"}),Object(R.jsx)("input",{className:"search-input ".concat(t?"dark":""),type:"search",ref:u,onChange:function(e){return d.apply(this,arguments)},placeholder:"Enter at least 2 letters to start..",onKeyDown:function(e){if(e.key.match(/^[A-Za-z]+$/))return!0;e.preventDefault()}}),n.length>0&&Object(R.jsx)("div",{className:"city-list-wrapper",children:Object(R.jsx)("div",{className:"city-list ".concat(n.length>0?"full":""," ").concat(t?"dark":""),children:Object(R.jsx)("div",{className:"city-list-scroll-wrapper",children:n.map((function(t,c){return Object(R.jsx)(H,{cityData:t,getCurrentStyle:j,onGetCityDetails:m,onToggleLocation:p,favoriteCitys:e,setCitysData:s,inputRef:u},c)}))})})})]})}var B=function(e){var t,c=e.value,a=e.currentTextSize,r=Object(i.c)((function(e){return e.temperatureScale.temperatureScale}));return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)("span",{className:"temperature-value",children:["celsius"===r&&Math.round(c),"fahrenheit"===r&&Math.round((t=c,9*t/5+32))]}),Object(R.jsxs)("span",{className:"temperature-unit",children:["celsius"===r&&Object(R.jsx)(R.Fragment,{children:"\xb0"}),"fahrenheit"===r&&Object(R.jsx)("span",{className:"".concat(a?"":"fs-for-temp-scale"),children:"\u2109"})]})]})},W=c(32),G=c(31),q=c(30),J=c(33);function K(e){switch(e){case 1:case 2:case 3:case 4:case 5:return"https://res.cloudinary.com/dzvebcsrp/image/upload/v1622199308/OIH57D1.eps_crop__1_-removebg-preview_g3qwv5.png";case 6:case 7:case 8:case 19:case 20:case 38:case 43:case 11:return"https://res.cloudinary.com/dzvebcsrp/image/upload/v1622199333/OIH57D1.eps_crop__2_-removebg-preview_oclptj.png";case 12:return"https://res.cloudinary.com/dzvebcsrp/image/upload/v1622199371/OIH57D1.eps_crop__4_-removebg-preview_gnl9n6.png";case 13:case 14:case 39:case 40:return"https://res.cloudinary.com/dzvebcsrp/image/upload/v1622199391/OIH57D1.eps_crop__3_-removebg-preview_eicsqk.png";case 15:case 16:case 17:case 41:case 42:return"https://res.cloudinary.com/dzvebcsrp/image/upload/v1622039606/OIH57D1.eps_crop-removebg-preview_dx3n3o.png";case 18:case 25:case 26:return"https://res.cloudinary.com/dzvebcsrp/image/upload/v1622199420/OIH57D1.eps_crop__5_-removebg-preview_nazxov.png";case 22:case 29:return"https://res.cloudinary.com/dzvebcsrp/image/upload/v1622199442/OIH57D1.eps_crop__7_-removebg-preview_ow6llf.png";case 23:case 44:return"https://res.cloudinary.com/dzvebcsrp/image/upload/v1622199464/OIH57D1.eps_crop__6_-removebg-preview_meirie.png";case 24:return"https://res.cloudinary.com/dzvebcsrp/image/upload/v1622199478/OIH57D1.eps_crop__13_-removebg-preview_ilfsnl.png";case 30:case 31:return"https://res.cloudinary.com/dzvebcsrp/image/upload/v1622199496/OIH57D1.eps_crop__12_-removebg-preview_tiqmlu.png";case 32:return"https://res.cloudinary.com/dzvebcsrp/image/upload/v1622199523/OIH57D1.eps_crop__15_-removebg-preview_lw0ij6.png";case 33:case 34:return"https://res.cloudinary.com/dzvebcsrp/image/upload/v1622199561/OIH57D1.eps_crop__11_-removebg-preview_ywo1lm.png";case 35:case 36:case 37:return"https://res.cloudinary.com/dzvebcsrp/image/upload/v1622199575/OIH57D1.eps_crop__9_-removebg-preview_beblpw.png"}}function Y(e){switch(!0){case e.includes("UV"):return Object(R.jsx)(q.a,{});case e.includes("Humidity"):return Object(R.jsx)(G.a,{});case e.includes("Wind"):return Object(R.jsx)(W.a,{});case e.includes("Precipitation"):case e.includes("Liquid"):return Object(R.jsx)(J.a,{})}}var X=function(e){var t=e.currentCityData,c=t.weatherIcon,a=t.weatherText,r=t.temperature,n=t.realFeelTemperature,s=Object(i.c)((function(e){return e.theme.themeState}));return Object(R.jsxs)("div",{className:"weather-card-preview flex",children:[Object(R.jsx)("div",{className:"weather-text bold-600 title-txt",children:a}),Object(R.jsxs)("div",{className:"temperature-wrapper flex",children:[Object(R.jsx)("div",{className:"current-temperature",children:Object(R.jsx)(B,{value:r})}),Object(R.jsxs)("div",{className:"real-feel-temperature under-title-small-txt bold-600 ",children:[Object(R.jsx)("span",{children:"Feels like "}),Object(R.jsx)("span",{className:"real-feel-value",children:Object(R.jsx)(B,{value:n,currentTextSize:!0})})]})]}),Object(R.jsxs)("div",{className:"weather-icon ".concat(function(){switch(c){case 33:case 34:case 35:case 36:case 37:return"smaller";default:return""}}()),children:[Object(R.jsx)("img",{src:K(c),alt:"",srcSet:""}),Object(R.jsx)("div",{className:"img-shadow ".concat(s?"dark-theme":"light-theme")})]})]})},Q=function(e){var t=e.currCity,c=Object(i.c)((function(e){return e.city.favoriteCitys})),r=Object(a.useState)(!1),n=Object(T.a)(r,2),s=n[0],o=n[1],l=Object(i.b)();return Object(a.useEffect)((function(){var e=c.filter((function(e){return e.key===t.key}))[0];o(!!e)}),[t,c]),Object(R.jsxs)("div",{className:"favorite-btn",onClick:function(){l(E(t))},children:[Object(R.jsx)("div",{className:"desktop-view-btn",children:Object(R.jsx)(Z,{isActive:s})}),Object(R.jsx)("div",{className:"mobile-view-btn",children:Object(R.jsx)(V,{isActive:s})})]})},Z=function(e){var t=e.isActive;return Object(R.jsxs)("div",{className:"heart-button ".concat(t?"active":""),children:[Object(R.jsx)("div",{className:"heart-flip"}),Object(R.jsxs)("span",{children:[t?"Added to":"Add to"," favorite"]})]})};function $(e){var t=new Date(e),c=t.getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()];return"".concat(c," ").concat(a)}function ee(e){return["S","M","T","W","T","F","S"][new Date(e).getDay()]}var te=c(34),ce=function(e){var t,c=e.dailyForecast,a=Object(i.c)((function(e){return e.theme.themeState}));return Object(R.jsxs)("div",{className:"card-type-2 ".concat(a?"":"light-theme"," day-forecast-preview"),children:[Object(R.jsxs)("div",{className:"desktop",children:[Object(R.jsx)("div",{className:"flex column place-center",children:Object(R.jsxs)("div",{className:"flex column place-center",children:[Object(R.jsxs)("div",{className:"flex column place-center ".concat(a?"lightClr":""),children:[Object(R.jsx)("div",{className:"title-txt",children:(t=c.Date,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(t).getDay()])}),Object(R.jsx)("div",{className:"fs11",children:$(c.Date)})]}),Object(R.jsx)("div",{className:"day-icon",children:Object(R.jsx)("img",{src:K(c.Day.Icon),alt:"",srcSet:""})})]})}),Object(R.jsx)("div",{className:"weather-text title-txt text-center ".concat(a?"lightClr":""),children:c.Day.ShortPhrase}),Object(R.jsxs)("div",{className:"flex width-full space-evenly",children:[Object(R.jsx)("div",{className:"day-temperature max bold-700 fs30",children:Object(R.jsx)(B,{currentTextSize:!0,value:c.Temperature.Maximum.Value})}),Object(R.jsx)("div",{className:"day-temperature min bold-700 fs30",children:Object(R.jsx)(B,{currentTextSize:!0,value:c.Temperature.Minimum.Value})})]}),Object(R.jsxs)("div",{className:"temperature-params forecast",children:[Object(R.jsxs)("div",{children:[Object(R.jsxs)("span",{className:"clr6 margin-right-5px",children:[Object(R.jsx)("span",{className:"margin-right-5px",children:Y("UV")}),Object(R.jsx)("span",{children:"UV:"})]}),Object(R.jsxs)("span",{className:"".concat(a?"clr4":"clr6"," "),children:[c.AirAndPollen[5].Value,"/10"]})]}),Object(R.jsxs)("div",{children:[Object(R.jsxs)("span",{className:"clr6 margin-right-5px",children:[Object(R.jsx)("span",{className:"margin-right-5px",children:Y("Wind")}),Object(R.jsx)("span",{children:"Wind:"})]}),Object(R.jsxs)("span",{className:"".concat(a?"clr4":"clr6"," "),children:[c.Day.WindGust.Speed.Value," km/h"]})]}),Object(R.jsxs)("div",{children:[Object(R.jsxs)("span",{className:"clr6 margin-right-5px",children:[Object(R.jsx)("span",{className:"margin-right-5px",children:Object(R.jsx)(te.a,{})}),Object(R.jsx)("span",{children:"Real Feel:"})]}),Object(R.jsx)("span",{className:"".concat(a?"clr4":"clr6"," "),children:Object(R.jsx)(B,{currentTextSize:!0,value:c.RealFeelTemperature.Maximum.Value})})]}),Object(R.jsxs)("div",{children:[Object(R.jsxs)("span",{className:"clr6 margin-right-5px",children:[Object(R.jsx)("span",{className:"margin-right-5px",children:Y("Liquid")}),Object(R.jsx)("span",{children:"Total Liquid:"})]}),Object(R.jsxs)("span",{className:"".concat(a?"clr4":"clr6"," "),children:[c.Day.TotalLiquid.Value," mm"]})]})]})]}),Object(R.jsxs)("div",{className:"mobile flex column place-center justify-center",children:[Object(R.jsx)("div",{className:"day-letter",children:ee(c.Date)}),Object(R.jsx)("div",{className:"day-icon",children:Object(R.jsx)("img",{src:K(c.Day.Icon),alt:"",srcSet:""})}),Object(R.jsx)("div",{className:"day-temperature bold-700",children:Object(R.jsx)(B,{value:c.Temperature.Maximum.Value,currentTextSize:!0})})]})]})},ae=function(e){var t=e.dailyForecastsData;return Object(R.jsxs)("div",{children:[Object(R.jsx)("div",{className:"bold-700 title-txt",children:"Next 5 Days"}),Object(R.jsx)("div",{className:"daily-forecasts",children:t.map((function(e,t){return Object(R.jsx)(ce,{day:"M",dailyForecast:e},t)}))})]})};function re(e){return function(){var t=Object(y.a)(x.a.mark((function t(c){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{c({type:"SET_SCALE",temperatureScale:e})}catch(a){console.log("err in updating temperature scale",a),g.b.error("Unable to update temperature scale",{position:g.b.POSITION.BOTTOM_LEFT})}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function ne(){var e=Object(i.c)((function(e){return e.temperatureScale.temperatureScale})),t=Object(i.c)((function(e){return e.theme.themeState})),c=Object(i.b)();return Object(R.jsx)("div",{className:"conversion-btn-wrapper width-full flex",children:Object(R.jsx)("input",{type:"checkbox",className:"temperature-conversion-btn ".concat(t?"dark":""),onChange:function(){c(re("celsius"===e?"fahrenheit":"celsius"))},checked:"celsius"!==e})})}function se(){return Object(R.jsxs)("div",{className:"loading-wrapper",children:[Object(R.jsx)("div",{className:"loading-text",children:"LOADING"}),Object(R.jsx)("div",{className:"loading-content"})]})}var ie=function(){var e=Object(i.c)((function(e){return e.city.currCity}));return Object(R.jsxs)("div",{className:"location flex column",children:[Object(R.jsxs)("div",{className:"city bold-800 title-txt",children:[e.name,","]}),Object(R.jsx)("div",{className:"country bold-800 title-txt",children:e.country}),Object(R.jsx)("div",{className:"date under-title-small-txt",children:void function(e){var t=e.getDate(),c=["January","February","March","April","May","June","July","August","September","October","November","December"],a=e.getMonth(),r=c[a],n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][e.getDay()];"".concat(n,", ").concat(t," ").concat(r)}(new Date)})]})},oe=function(e){var t=e.param,c=Object(i.c)((function(e){return e.theme.themeState}));return Object(R.jsxs)("div",{className:"temperature-param flex column",children:[Object(R.jsx)("div",{className:"card-type-2 flex place-center justify-center ".concat(c?"dark-theme":""," temperature-value "),children:Object(R.jsx)("div",{className:"icon mobile flex place-center justify-center",children:Y(t.name)})}),Object(R.jsxs)("div",{className:"fs12 bold-700 ".concat(c?"dark-theme":""),children:[t.value,t.unit]})]})};function le(e){var t=e.param,c=Object(i.c)((function(e){return e.theme.themeState}));function a(){switch(!0){case t.name.includes("UV"):return 10*t.value;case t.name.includes("Humidity"):case t.name.includes("Wind"):case t.name.includes("Precipitation"):return t.value}}return Object(R.jsxs)("div",{className:"param-progress-bar width-fit flex column place-center",children:[Object(R.jsxs)("div",{className:"title-text flex",children:[Object(R.jsx)("div",{className:"margin-right-7px",children:t.name}),Object(R.jsx)("div",{className:"fs18",children:Y(t.name)})]}),Object(R.jsxs)("div",{className:"progress-circle ".concat(a()>50?"over50":"","  p").concat(a()," ").concat(c?"dark":""),children:[Object(R.jsx)("div",{className:"flex ".concat(t.txt?"column":""),children:Object(R.jsxs)("span",{children:[t.value,t.unit]})}),Object(R.jsxs)("div",{className:"left-half-clipper",children:[Object(R.jsx)("div",{className:"first50-bar"}),Object(R.jsx)("div",{className:"value-bar"})]})]})]})}var ue=function(e){var t=e.currentCityData;return Object(R.jsx)("div",{className:"temperatureParams-desktop-wrapper flex",children:t.temperatureParams.map((function(e,t){return Object(R.jsx)(le,{param:e},t)}))})};function de(e){var t=new Date(e),c=t.getHours(),a=t.getMinutes(),r=c>=12?"pm":"am";return(c=(c%=12)||12)+":"+(a=a<10?"0"+a:a)+" "+r}var je,pe=function(e){var t=e.hourlyForecastData,c=Object(i.c)((function(e){return e.theme.themeState}));return Object(R.jsxs)("div",{className:"hourly-forecast-wrapper",children:[Object(R.jsx)("div",{className:"bold-700 title-txt margin-bottom-10px",children:"Today"}),Object(R.jsx)("div",{className:"grid hourly-forecast-list width-full space-between ".concat(c?"dark":""),children:t.map((function(e,t){return Object(R.jsxs)("div",{className:"flex column place-center hourly-forecast-preview ".concat(c?"dark":""),children:[Object(R.jsx)("div",{className:"clr2",children:de(e.DateTime)}),Object(R.jsx)("div",{className:"icon-img flex place-center justify-center",children:Object(R.jsx)("img",{src:K(e.WeatherIcon),alt:"",srcSet:""})}),Object(R.jsxs)("div",{className:"flex place-baseline",children:[Object(R.jsx)("div",{className:"title-txt margin-right-5px",children:Object(R.jsx)(B,{currentTextSize:!0,value:e.Temperature.Value})}),Object(R.jsx)("div",{className:"fs11",children:Object(R.jsx)(B,{currentTextSize:!0,value:e.RealFeelTemperature.Value})})]}),Object(R.jsx)("div",{className:"text-center word-break ".concat(c?"clr4":"clr6"),children:e.IconPhrase})]},t)}))})]})},me=c(27),be=function(e){var t=e.city,c=Object(i.c)((function(e){return e.theme.themeState})),r=Object(a.useState)(null),n=Object(T.a)(r,2),s=n[0],o=n[1],l=Object(a.useState)(!1),u=Object(T.a)(l,2),d=u[0],j=u[1],p=Object(i.b)(),m=Object(N.f)(),b=Object(a.useRef)();Object(a.useEffect)((function(){try{(function(){var e=Object(y.a)(x.a.mark((function e(){var c,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getCurrentCityConditions(t.key).then((function(e){return e.json()})).then((function(e){return e[0]}));case 2:(c=e.sent)&&(a={temperature:c.Temperature.Metric.Value,realFeelTemperature:c.RealFeelTemperature.Metric.Value,weatherText:c.WeatherText,weatherIcon:c.WeatherIcon,temperatureParams:[{name:"UV",value:c.UVIndex,unit:"/10"},{name:"Humidity",value:c.RelativeHumidity,unit:"%"},{name:"Wind Gust",value:c.WindGust.Speed.Metric.Value,unit:"km/h"}]},o(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}catch(e){g.b.error("Failed getting current conditions",{position:g.b.POSITION.BOTTOM_LEFT}),console.log("ERR in getting fav city conditions",e)}}),[t.key]);return Object(a.useEffect)((function(){d&&b&&b.current&&b.current.focus()}),[d]),s?Object(R.jsxs)("div",{className:"weather-card-preview favorite flex column",onClick:function(){p(F(t)),m.push("/".concat(t.name))},children:[Object(R.jsxs)("div",{className:"position-relative options-container",children:[Object(R.jsx)("div",{className:"options-btn-wrapper flex place-center ".concat(d?"active":""),onClick:function(e){e.preventDefault(),e.stopPropagation(),j((function(e){return!e}))},children:Object(R.jsx)(me.a,{})}),d&&Object(R.jsx)("div",{className:"modal",tabIndex:"0",ref:b,onBlur:function(){return j(!1)},children:Object(R.jsxs)("div",{onClick:function(e){return function(e){e.preventDefault(),e.stopPropagation(),p(E(t)),j(!1)}(e)},className:"delete-btn flex place-center",children:[Object(R.jsx)("div",{className:"margin-right-5px",children:"Delete"}),Object(R.jsx)(me.b,{})]})})]}),Object(R.jsxs)("div",{className:"flex space-between width-full",children:[Object(R.jsxs)("div",{className:"flex column favorite-location ".concat(c?"dark":""),children:[Object(R.jsxs)("div",{className:"title-txt bold-600 space-nowrap",children:[t.name,","]}),Object(R.jsx)("div",{children:t.country})]}),Object(R.jsxs)("div",{className:"weather-icon-favorite",children:[Object(R.jsx)("img",{src:K(s.weatherIcon),alt:"",srcSet:""}),Object(R.jsx)("div",{className:"img-shadow-favorite ".concat(c?"dark-theme":"light-theme")})]})]}),Object(R.jsxs)("div",{className:"flex space-between width-full margin-t-20",children:[Object(R.jsx)("div",{className:"curr-favorite-location-params flex",children:s.temperatureParams.map((function(e,t){return Object(R.jsxs)("div",{className:"flex column param-wrapper justify-center",children:[Object(R.jsx)("div",{className:"text-center fs14",children:e.name}),Object(R.jsxs)("div",{className:"text-center fs11",children:[e.value,e.unit]})]},t)}))}),Object(R.jsx)("div",{className:"fs40 bold-700 favorite-temperature",children:Object(R.jsx)(B,{value:s.temperature})})]})]}):Object(R.jsx)(se,{})},he=function(e){var t=e.favoriteCitys;return Object(R.jsx)("div",{className:"favorite-list inner-container ",children:t.map((function(e,t){return Object(R.jsx)(be,{city:e},t)}))})},ve=[{path:"/favorite",component:function(){var e=Object(i.c)((function(e){return e.city.favoriteCitys}));return Object(R.jsxs)("div",{className:"favorite-page flex place-center column",children:[Object(R.jsx)("div",{className:"title bold-800 title-txt margin-bottom-30px",children:"Favorite Locations"}),e.length>0?Object(R.jsx)(he,{favoriteCitys:e}):Object(R.jsx)("div",{className:" bold-700 title-txt",children:"No favorite citys"})]})}},{path:"/:id",component:function(){var e=Object(i.c)((function(e){return e.city.currCity})),t=Object(a.useState)(null),c=Object(T.a)(t,2),r=c[0],n=c[1],s=Object(a.useState)([]),o=Object(T.a)(s,2),l=o[0],u=o[1],d=Object(a.useState)([]),j=Object(T.a)(d,2),p=j[0],m=j[1],b=Object(N.g)();return Object(a.useEffect)((function(){if(e){try{(function(){var t=Object(y.a)(x.a.mark((function t(){var c,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.getCurrentCityConditions(e.key).then((function(e){return e.json()})).then((function(e){return e[0]}));case 2:(c=t.sent)&&(a={weatherText:c.WeatherText,weatherIcon:c.WeatherIcon,temperature:c.Temperature.Metric.Value,realFeelTemperature:c.RealFeelTemperature.Metric.Value,temperatureParams:[{name:"UV Index",value:c.UVIndex,unit:"/10",txt:c.UVIndexText},{name:"Humidity",value:c.RelativeHumidity,unit:"%"},{name:"Wind Gust",value:c.WindGust.Speed.Metric.Value,unit:"km/h"},{name:"Precipitation",value:c.PrecipitationSummary.Precipitation.Metric.Value,unit:c.PrecipitationSummary.Precipitation.Metric.Unit}]}),n(a);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}catch(t){g.b.error("Failed to fetch current conditions",{position:g.b.POSITION.BOTTOM_LEFT}),console.log("ERR in getting current city conditions",t)}try{(function(){var t=Object(y.a)(x.a.mark((function t(){var c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.getForecastFromCity(e.key).then((function(e){return e.json()})).then((function(e){return e.DailyForecasts}));case 2:c=t.sent,u(c);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}catch(t){g.b.error("Failed to fetch daily forecast",{position:g.b.POSITION.BOTTOM_LEFT}),console.log("ERR in getting daily forecast",t)}try{(function(){var t=Object(y.a)(x.a.mark((function t(){var c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.getHourlyFrecast(e.key).then((function(e){return e.json()})).then((function(e){return e}));case 2:c=t.sent,m(c);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}catch(t){g.b.error("Failed to fetch hourly forecast",{position:g.b.POSITION.BOTTOM_LEFT}),console.log("ERR in getting hourly forecast",t)}}return function(){n(null),u([]),m([])}}),[e,b.pathname]),e&&r&&0!==l.length&&0!==p.length?Object(R.jsxs)("div",{className:"weather-details",children:[Object(R.jsx)("div",{className:"desktop-search",children:Object(R.jsx)(U,{})}),Object(R.jsxs)("div",{className:"inner-container",children:[Object(R.jsxs)("div",{className:"current-details-section",children:[Object(R.jsxs)("div",{className:"flex space-between full",children:[Object(R.jsx)(ie,{}),Object(R.jsx)(ue,{currentCityData:r}),Object(R.jsx)(Q,{currCity:e})]}),Object(R.jsxs)("div",{className:"current-conditions-container",children:[Object(R.jsx)(X,{currentCityData:r}),r.temperatureParams&&Object(R.jsx)("div",{className:"flex space-evenly temperature-params",children:r.temperatureParams.map((function(e,t){return Object(R.jsx)(oe,{param:e},t)}))})]})]}),Object(R.jsx)(ne,{}),Object(R.jsx)(pe,{hourlyForecastData:p}),Object(R.jsx)(ae,{dailyForecastsData:l})]})]}):Object(R.jsx)(se,{})}}],fe="THEME_STATE",Oe={query:function(){return xe.apply(this,arguments)},save:function(e){je=e,_.saveToStorage(fe,je)}};function xe(){return(xe=Object(y.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.loadFromStorage(fe);case 2:return(je=e.sent)||(je=!1,_.saveToStorage(fe,je)),e.abrupt("return",je);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(){return function(){var e=Object(y.a)(x.a.mark((function e(t){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOADING_START"}),e.next=4,Oe.query();case 4:c=e.sent,t({type:"SET_THEME",themeState:c}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("err in loading theme",e.t0),g.b.error("Unable to load  theme background color status",{position:g.b.POSITION.BOTTOM_LEFT});case 12:return e.prev=12,t({type:"LOADING_DONE"}),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,8,12,15]])})));return function(t){return e.apply(this,arguments)}}()}function ge(){var e=Object(i.c)((function(e){return e.theme.themeState})),t=Object(i.b)();return Object(a.useEffect)((function(){t(ye())}),[t]),Object(R.jsx)("div",{className:"wrapper",children:Object(R.jsxs)("div",{className:"toggle",children:[Object(R.jsx)("input",{className:"toggle-input",type:"checkbox",checked:e,onChange:function(){t(function(e){return function(){var t=Object(y.a)(x.a.mark((function t(c){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Oe.save(e);case 3:c({type:"SET_THEME",themeState:e}),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("err in updating theme",t.t0),g.b.error("Unable to update theme background color",{position:g.b.POSITION.BOTTOM_LEFT});case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(!e))}}),Object(R.jsx)("div",{className:"toggle-bg"}),Object(R.jsx)("div",{className:"toggle-switch ",children:e?Object(R.jsx)("img",{className:"dark",src:"https://img.icons8.com/office/25/000000/moon.png",alt:""}):Object(R.jsx)("img",{className:"light",src:"https://img.icons8.com/emoji/35/000000/sun-behind-small-cloud.png",alt:""})})]})})}var Ne=function(e){var t=e.innerText,c=e.pathName,a=Object(i.c)((function(e){return e.theme.themeState}));return Object(R.jsxs)(o.b,{className:"\n        navlink-btn \n        desktop-view \n        margin-right-7px \n        ".concat(a?"dark":""," \n        "),to:c,children:[t,Object(R.jsx)("span",{}),Object(R.jsx)("span",{}),Object(R.jsx)("span",{}),Object(R.jsx)("span",{})]})},Te=function(){var e=Object(i.c)((function(e){return e.city.currCity})),t=Object(a.useState)(0),c=Object(T.a)(t,2),r=c[0],n=c[1];return Object(a.useEffect)((function(){window.onscroll=function(){n(window.pageYOffset)}}),[]),e?Object(R.jsx)("div",{className:"navbar ".concat(r>0?"scroll":""),children:Object(R.jsxs)("div",{className:"inner-navbar-container flex space-between",children:[Object(R.jsx)(o.b,{className:"logo-wrapper flex place-center",to:"/".concat(e.name),children:Object(R.jsx)("span",{children:" Weather app "})}),Object(R.jsxs)("div",{className:"flex place-center",children:[Object(R.jsx)(Ne,{innerText:"home",pathName:"/".concat(e.name)}),Object(R.jsx)(Ne,{innerText:"favorite",pathName:"/favorite"}),Object(R.jsx)(ge,{})]})]})}):Object(R.jsx)(se,{})},we=c(28),Se=function(){var e=Object(i.c)((function(e){return e.theme.themeState})),t=Object(i.c)((function(e){return e.city.currCity}));return t?Object(R.jsx)("div",{className:"mobile-navbar ".concat(e?"dark-theme":""),children:Object(R.jsxs)("div",{className:"flex space-around place-center inner-navbar-container",children:[Object(R.jsx)(o.b,{className:"navlink-btn flex place-center",to:"/".concat(t.name),children:Object(R.jsx)(we.b,{})}),Object(R.jsx)(o.b,{className:"navlink-btn flex place-center",to:"/favorite",children:Object(R.jsx)(we.a,{})})]})}):Object(R.jsx)(se,{})};function _e(){var e=Object(i.c)((function(e){return e.theme.themeState})),t=Object(i.c)((function(e){return e.city.currCity})),c=Object(N.f)(),r=Object(i.b)(),n=Object(N.g)();return Object(a.useEffect)((function(){r(ye())}),[r]),Object(a.useEffect)((function(){r(function(){var e=Object(y.a)(x.a.mark((function e(t){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOADING_START"}),e.next=4,I.query();case 4:c=e.sent,t({type:"SET_FAVORITE_CITYS",citys:c}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("err in loading citys",e.t0),g.b.error("Unable to loade citys",{position:g.b.POSITION.BOTTOM_LEFT});case 12:return e.prev=12,t({type:"LOADING_DONE"}),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,8,12,15]])})));return function(t){return e.apply(this,arguments)}}())}),[r]),Object(a.useEffect)((function(){"/"===n.pathname&&t&&c.push("/".concat(t.name))}),[t,n.pathname,c]),Object(a.useEffect)((function(){if(!t){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,a=e.coords.longitude;!function(e){function t(){return a.apply(this,arguments)}function a(){return(a=Object(y.a)(x.a.mark((function t(){var a,s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.getCurrLocation(e).then((function(e){return e.json()})).then((function(e){return e}));case 2:a=t.sent,s={_id:"".concat(a.Key),name:a.LocalizedName,key:parseInt(a.Key),country:a.Country.LocalizedName},r(F(s)),"/favorite"!==n.pathname&&c.push("/".concat(s.name));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}t()}("".concat(t,",").concat(a))}),(function(){g.b.error("Unable to retrieve your location",{position:g.b.POSITION.BOTTOM_LEFT}),e()})):(g.b.error("Geolocation is not supported by your browser",{position:g.b.POSITION.BOTTOM_LEFT}),e())}function e(){var e={_id:"2154402",name:"Tel Aviv",country:"Israel",key:2154402};r(F(e)),"/favorite"!==n.pathname&&c.push("/".concat(e.name))}}),[t,c,n.pathname,r]),Object(R.jsxs)("div",{className:"App ".concat(e?"/favorite"===n.pathname?"dark-desktop-favorite-page-view":"dark":"/favorite"===n.pathname?"light-desktop-favorite-page-view":"light"),children:[Object(R.jsx)(Te,{}),Object(R.jsx)(N.c,{children:ve.map((function(e){return Object(R.jsx)(N.a,{exact:!0,component:e.component,path:e.path},e.path)}))}),Object(R.jsx)(Se,{}),Object(R.jsx)(g.a,{})]})}c(48);var ke=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,50)).then((function(t){var c=t.getCLS,a=t.getFID,r=t.getFCP,n=t.getLCP,s=t.getTTFB;c(e),a(e),r(e),n(e),s(e)}))};s.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(i.a,{store:f,children:Object(R.jsx)(o.a,{children:Object(R.jsx)(_e,{})})})}),document.getElementById("root")),ke()}},[[49,1,2]]]);
//# sourceMappingURL=main.a8f38e07.chunk.js.map